{% extends "base.html" %}

{% block content %}
<div class="container background-content">
	<div class="bg-dark text-secondary px-4 py-5 text-center">
		<div class="py-5">
			<h1 class="display-5 fw-bold text-white">Catch a Pokémon!</h1>
			<div class="col-lg-6 mx-auto">
				<p class="fs-5 mb-4">Quickly design and customize responsive mobile-first sites with Bootstrap, the world’s most popular front-end open source toolkit, featuring Sass variables and mixins, responsive grid system, extensive prebuilt components, and powerful JavaScript plugins.</p>
			</div>
		</div>
	</div>
	<div class="row" style="padding-top: 3em;">
		<div class="col-lg-3">
			<a href="#" id=catch_pokemon><img class="mb-4" src="/static/pokeball.svg" alt="" width="140" height="140"></a>

			<h2 class="fw-normal">Poké Ball</h2>
			<p>Some representative placeholder content for the three columns of text below the carousel. This is the first column.</p>
		</div>
		<div class="col-lg-3">
            <img class="mb-4" src="/static/greatball.svg" alt="" width="140" height="140">

			<h2 class="fw-normal">Great Ball</h2>
			<p>Another exciting bit of representative placeholder content. This time, we've moved on to the second column.</p>
		</div>
		<div class="col-lg-3">
            <img class="mb-4" src="/static/ultraball.svg" alt="" width="140" height="140">

			<h2 class="fw-normal">Ultra Ball</h2>
			<p>And lastly this, the third column of representative placeholder content.</p>
		</div>
		<div class="col-lg-3">
            <img class="mb-4" src="/static/masterball.svg" alt="" width="140" height="140">

			<h2 class="fw-normal">Master Ball</h2>
			<p>And lastly this, the third column of representative placeholder content.</p>
		</div>
		<div class="bg-dark text-secondary px-4 py-5 text-center">
			<div class="py-5">
			</div>
		</div>
</div>


<div class="modal fade" id="catchedPokemonModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
    <div class="modal-content">
      <div class="modal-header">
          <h3 class="modal-title" id="pokemon_name" style="font-weight: bold;"></h3>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <img class="profile-images" id="pokemon_image">
      </div>
      <div class="modal-footer">
        <span id="pokemon_exp" style="font-weight: bold;color: #08679f;"></span>
      </div>
    </div>
  </div>
</div>

<script>
  $(function() {
    $('a#catch_pokemon').bind('click', function() {
      $.getJSON($SCRIPT_ROOT + '/catch-random-pokemon', '', function(obj) {
        const pokemon_name = obj.name.charAt(0).toUpperCase() + obj.name.slice(1);
        $("#pokemon_name").text(pokemon_name);
        $("#pokemon_image").attr("src", "/static/official-art/" + obj.id + ".png");
        $("#pokemon_image").attr("alt", obj.name);
        $("#pokemon_exp").text("+" + obj.exp + "Exp");
        $('#catchedPokemonModal').modal('show');
      });
    });
  });
</script>

{% endblock %}